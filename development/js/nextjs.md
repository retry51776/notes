# Next.js
>
> Allows bots to crawl the site, provides faster load times, and can be served via a CDN.

## Structure

- `/pages` – file‑based routing  
  - `/api` – API routes (similar to Express: `(req, res) => { … }`)  
  - `/sales`  
    - `index.js` – list of sales  
    - `[id].js` – dynamic route for a specific sale (`/sales/123`)

- `_app.js` – global layout or context provider (similar to Flask’s `current_app`)

```js
import { useRouter } from 'next/router';
import styles from '/styles/Home.css';

// Runs on the server side at build time
export async function getStaticPaths() {
  return {
    paths: [
      { params: { id: 'XXX' } },
      { params: { id: 'YYY' } }
    ],
    fallback: false,
  };
}

// Runs on the server side for each page generated by `getStaticPaths`
export async function getStaticProps() {
  const req = await fetch('/sales');
  const sales = await req.json();
  return {
    props: {
      sales,
    },
    // Re‑validate the page every 30 seconds
    revalidate: 30,
  };
}

export default function Sales({ sales }) {
  const router = useRouter();

  return (
    <h1 className={styles.header}>
      {router.query.id}
    </h1>
  );
}
```
